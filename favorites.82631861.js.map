{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,0BAIA,MAAME,EAAmBC,SAASC,cAAc,yBAC1CC,EAAwBF,SAASC,cAAc,0B,IAGnDE,IAAAC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,gBAElC,EAAAX,EAAAY,oBACGC,MAAKC,IACJ,GAAoB,IAAhBA,EAAKC,OACP,MAAM,IAAIC,MAEZ,MAAMC,EAASH,EACZI,KACC,EAACC,KAAEA,KACD,mDAAmDA,qFAE/CA,iDAIPC,KAAK,IAERnB,EAAiBoB,mBAAmB,YAAaJ,EAAO,IAEzDK,OAAMC,GAASC,OAAOC,QAAQ,iCAEjCxB,EAAiByB,iBAAiB,SAElC,SAAiBC,GACf,GAAIA,EAAIC,OAAOC,UAAUC,SAAS,uBAAwB,CACxD,MAAMC,EAMV,SAA6BC,GAC3B,MAAMC,EAA8B3B,KAAKC,MACvCC,aAAaC,QAAQC,EAAAC,eAEjBuB,EAAiBF,EAAKG,QAAQ,yBAAyBC,QAAQC,SACrE,OAAKH,EAGED,EAA4BK,QACjC,EAACD,SAAEA,KAAeA,IAAaH,IAHxBD,C,CAZaM,CAAoBZ,EAAIC,QAC5CY,QAAQC,IAAIV,IACZ,EAAAW,EAAAC,oBAAmBZ,EAAa3B,E","sources":["src/favourites.js","src/js/favorites/favorite_filter.js"],"sourcesContent":["import './js/header';\nimport './js/slick.min';\n\nimport './js/favorites/favorite_filter';\nimport './js/favorites/favorite_recipes';\n\nimport './js/modals/mobile_menu';\nimport './js/modals/order_now';\nimport './js/modals/rating';\nimport './js/modals/recipe';\nimport './js/modals/scroll-up';\n\nimport './js/api';\nimport './js/templates';\n","import { getAllCategories } from '../api';\nimport { createCardTemplate } from '../card_template';\nimport { KEY_FAVORITE } from './favorite_recipes';\n\nconst favoriteFilterEl = document.querySelector('.favorite-filter-list');\nconst favoriteRecipesListEl = document.querySelector('.favorite-recipes-list');\n\nconst favoriteArrFromLocalStorage =\n  JSON.parse(localStorage.getItem(KEY_FAVORITE)) ?? [];\n\ngetAllCategories()\n  .then(data => {\n    if (data.length === 0) {\n      throw new Error();\n    }\n    const markup = data\n      .map(\n        ({ name }) =>\n          `<li class=\"favorite-filter-item\" data-category=\"${name}\">\n             <button type=\"button\" class=\"favorite-filter-btn\">\n            ${name}\n             </button>\n            </li>`\n      )\n      .join('');\n\n    favoriteFilterEl.insertAdjacentHTML('beforeend', markup);\n  })\n  .catch(error => Notify.failure('Oops! Something went wrong!'));\n\nfavoriteFilterEl.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  if (evt.target.classList.contains('favorite-filter-btn')) {\n    const findProduct = findProductByFilter(evt.target);\n    console.log(findProduct);\n    createCardTemplate(findProduct, favoriteRecipesListEl);\n  }\n}\n\nfunction findProductByFilter(elem) {\n  const favoriteArrFromLocalStorage = JSON.parse(\n    localStorage.getItem(KEY_FAVORITE)\n  );\n  const searchCategory = elem.closest('.favorite-filter-item').dataset.category;\n  if (!searchCategory) {\n    return favoriteArrFromLocalStorage;\n  }\n  return favoriteArrFromLocalStorage.filter(\n    ({ category }) => category === searchCategory\n  );\n}\n"],"names":["parcelRequire","$7rYDH","$503b04fe8c6cf9d4$var$favoriteFilterEl","document","querySelector","$503b04fe8c6cf9d4$var$favoriteRecipesListEl","$503b04fe8c6cf9d4$var$ref","JSON","parse","localStorage","getItem","$4DKoY","KEY_FAVORITE","getAllCategories","then","data","length","Error","markup","map","name","join","insertAdjacentHTML","catch","error","Notify","failure","addEventListener","evt","target","classList","contains","findProduct","elem","favoriteArrFromLocalStorage1","searchCategory","closest","dataset","category","filter","$503b04fe8c6cf9d4$var$findProductByFilter","console","log","$c5nH8","createCardTemplate"],"version":3,"file":"favorites.82631861.js.map"}