{"mappings":"gfAAAA,EAAA,S,WCAA,IAQEC,EARFC,EAAAF,EAAA,S,0BAIMG,EAAmBC,SAASC,cAAc,yBAC1CC,EAAwBF,SAASC,cAAc,0BAGnDJ,EAAAM,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,gBAElC,EAAAV,EAAAW,oBACGC,MAAK,SAAAC,GACJ,GAAoB,IAAhBA,EAAKC,OACP,MAAM,IAAIC,MAEZ,IAAMC,EAASH,EACZI,KACC,SAAAC,G,IAAGC,EAAID,EAAJC,K,MACD,mDAEIC,OAF+CD,EAAK,qFAE/CC,OAALD,EAAK,8C,IAIZE,KAAK,IAERpB,EAAiBqB,mBAAmB,YAAaN,E,IAElDO,OAAM,SAAAC,G,OAASC,OAAOC,QAAQ,8B,IAEjCzB,EAAiB0B,iBAAiB,SAElC,SAAiBC,GACf,GAAIA,EAAIC,OAAOC,UAAUC,SAAS,uBAAwB,CACxD,IAAMC,GAMmBC,EANeL,EAAIC,OAOxCK,EAA8B7B,KAAKC,MACvCC,aAAaC,QAAQC,EAAAC,gBAEjByB,EAAiBF,EAAKG,QAAQ,yBAAyBC,QAAQC,UAI9DJ,EAA4BK,QACjC,SAAArB,G,OAAWA,EAARoB,WAA4BH,C,IAHxBD,GAXPM,QAAQC,IAAIT,IACZ,EAAAU,EAAAC,oBAAmBX,EAAa5B,E,CAIpC,IAA6B6B,EACrBC,EAGAC,C","sources":["src/favourites.js","src/js/favorites/favorite_filter.js"],"sourcesContent":["import './js/header';\nimport './js/slick.min';\n\nimport './js/favorites/favorite_filter';\nimport './js/favorites/favorite_recipes';\n\nimport './js/modals/mobile_menu';\nimport './js/modals/order_now';\nimport './js/modals/rating';\nimport './js/modals/recipe';\nimport './js/modals/scroll-up';\n\nimport './js/api';\nimport './js/templates';\n","import { getAllCategories } from '../api';\nimport { createCardTemplate } from '../card_template';\nimport { KEY_FAVORITE } from './favorite_recipes';\n\nconst favoriteFilterEl = document.querySelector('.favorite-filter-list');\nconst favoriteRecipesListEl = document.querySelector('.favorite-recipes-list');\n\nconst favoriteArrFromLocalStorage =\n  JSON.parse(localStorage.getItem(KEY_FAVORITE)) ?? [];\n\ngetAllCategories()\n  .then(data => {\n    if (data.length === 0) {\n      throw new Error();\n    }\n    const markup = data\n      .map(\n        ({ name }) =>\n          `<li class=\"favorite-filter-item\" data-category=\"${name}\">\n             <button type=\"button\" class=\"favorite-filter-btn\">\n            ${name}\n             </button>\n            </li>`\n      )\n      .join('');\n\n    favoriteFilterEl.insertAdjacentHTML('beforeend', markup);\n  })\n  .catch(error => Notify.failure('Oops! Something went wrong!'));\n\nfavoriteFilterEl.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  if (evt.target.classList.contains('favorite-filter-btn')) {\n    const findProduct = findProductByFilter(evt.target);\n    console.log(findProduct);\n    createCardTemplate(findProduct, favoriteRecipesListEl);\n  }\n}\n\nfunction findProductByFilter(elem) {\n  const favoriteArrFromLocalStorage = JSON.parse(\n    localStorage.getItem(KEY_FAVORITE)\n  );\n  const searchCategory = elem.closest('.favorite-filter-item').dataset.category;\n  if (!searchCategory) {\n    return favoriteArrFromLocalStorage;\n  }\n  return favoriteArrFromLocalStorage.filter(\n    ({ category }) => category === searchCategory\n  );\n}\n"],"names":["parcelRequire","$4509e8d12349f6b7$var$ref","$b7ONl","$4509e8d12349f6b7$var$favoriteFilterEl","document","querySelector","$4509e8d12349f6b7$var$favoriteRecipesListEl","JSON","parse","localStorage","getItem","$jeC6k","KEY_FAVORITE","getAllCategories","then","data","length","Error","markup","map","param","name","concat","join","insertAdjacentHTML","catch","error","Notify","failure","addEventListener","evt","target","classList","contains","findProduct","elem","favoriteArrFromLocalStorage1","searchCategory","closest","dataset","category","filter","console","log","$boQj9","createCardTemplate"],"version":3,"file":"favorites.203c98bd.js.map"}