var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},e.parcelRequired7c6=o),o("bUb57"),o("1gCDW");var r=o("c5nH8"),i=(r=o("c5nH8"),o("8WEGn")),c=o("7rYDH");const s=document.querySelector(".favorite-recipes-list"),n=document.querySelector(".hero-section-favorites"),l=document.querySelector(".favorite-filter"),d=(document.querySelector(".tui-pagination"),document.querySelector(".empty-storage-wrapper"));var f;const u=null!==(f=JSON.parse(localStorage.getItem("favorite")))&&void 0!==f?f:[];if(0!==u.length){(0,r.createCardTemplate)(u,s);document.querySelectorAll(".js-add-to-fav").forEach((e=>e.checked=!0))}else n.classList.add("hero-is-hidden"),l.classList.add("hiddenvisualy"),d.classList.remove("hiddenvisualy");s.addEventListener("click",(function(e){if(e.target.classList.contains("card-template-btn")){const t=e.target.closest(".card-template").dataset.id;(0,i.popUpFunction)(t)}e.target.classList.contains("js-add-to-fav")&&((0,c.removeFromFavorites)("favorite",e.target,u),e.target.closest(".card-template").remove())}));const v=document.querySelector(".favorite-filter"),m=document.querySelector(".favorite-filter-list"),g=document.querySelector(".favorite-recipes-list"),y=document.querySelector(".empty-storage-wrapper");var p;let L=null!==(p=JSON.parse(localStorage.getItem("favorite")))&&void 0!==p?p:[],S=0,b=0;const h=L.flatMap((e=>e.category)).filter(((e,t,a)=>a.indexOf(e)===t));h.sort(((e,t)=>e.localeCompare(t))),function(e){const t=e.map((e=>`<li class="favorite-filter-item" data-category="${e}">\n             <button type="button" class="favorite-filter-btn">\n            ${e}\n             </button>\n          </li>`)).join("");m.innerHTML='<li class="favorite-filter-item" data-category="all">\n                          <button type="button" class="favorite-filter-btn favorite-active-btn all-category">\n                            All categories\n                          </button>\n                        </li >',m.insertAdjacentHTML("beforeend",t)}(h);const q=document.querySelector(".all-category");m.addEventListener("click",(function(e){if(e.target.classList.contains("favorite-filter-btn")){if(q.classList.remove("favorite-active-btn"),0!=b&&(q.classList.remove("in-focus"),b=0),0!=S){document.querySelector(".in-focus").classList.remove("in-focus"),S=0}const t=function(e){const t=JSON.parse(localStorage.getItem("favorite")),a=e.closest(".favorite-filter-item").dataset.category;if("all"===a)return q.classList.add("in-focus"),b+=1,t;return t.filter((({category:e})=>e===a))}(e.target);(0,r.createCardTemplate)(t,g);document.querySelectorAll(".js-add-to-fav").forEach((e=>e.checked=!0))}})),g.addEventListener("click",(function(e){if(e.target.classList.contains("js-add-to-fav")){const t=e.target.closest(".card-template").dataset.id,a=L.find((({_id:e})=>e===t));if(L=JSON.parse(localStorage.getItem("favorite")),L.some((e=>e.category===a.category))){const e=document.querySelector(`li[data-category="${a.category}"]`);return void(q.classList.contains("in-focus")||q.classList.contains("favorite-active-btn")||(e.firstElementChild.classList.add("in-focus"),S+=1))}document.querySelector(`li[data-category="${a.category}"]`).remove(),S=0,q.classList.contains("favorite-active-btn")||(q.classList.add("in-focus"),(0,r.createCardTemplate)(L,g),b+=1),0===L.length&&(q.remove(),v.classList.add("hiddenvisualy"),y.classList.remove("hiddenvisualy"))}})),o("hDduH"),o("bmAoy"),o("6jlVF"),o("8WEGn"),o("3pS2V"),o("7rYDH"),o("7sOwA");
//# sourceMappingURL=favorites.65da5b1d.js.map
