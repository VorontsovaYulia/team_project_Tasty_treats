!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a),a("gVa74"),a("4Qm2O");var n=a("b7ONl"),o=a("boQj9"),i=(o=a("boQj9"),a("bhKwb")),l="favorite";var c=document.querySelector(".favorite-recipes-list"),s=document.querySelector(".hero-section-favorites"),d=document.querySelector(".favorite-filter"),f=document.querySelector(".tui-pagination"),u=document.querySelector(".empty-storage-wrapper");0!==i.default.length?(0,o.createCardTemplate)(i.default,c):(s.classList.add("hero-is-hidden"),d.classList.add("hiddenvisualy"),f.classList.add("hiddenvisualy"),u.classList.remove("hiddenvisualy")),c.addEventListener("click",(function(e){if(e.target.classList.contains("card-template-btn")){!function(e){console.log(e)}((t=e.target,r=t.closest(".card-template").dataset.id,i.default.find((function(e){return e._id===r}))))}var t,r;e.target.classList.contains("js-add-to-fav")&&(!function(e,t){var r=e.closest(".card-template").dataset.id,a=t.findIndex((function(e){return e._id===r}));t.splice(a,1),localStorage.setItem(l,JSON.stringify(t))}(e.target,i.default),e.target.closest(".card-template").remove())}));var g=document.querySelector(".favorite-filter-list"),v=document.querySelector(".favorite-recipes-list");(0,n.getAllCategories)().then((function(e){if(0===e.length)throw new Error;var t=e.map((function(e){var t=e.name;return'<li class="favorite-filter-item" data-category="'.concat(t,'">\n             <button type="button" class="favorite-filter-btn">\n            ').concat(t,"\n             </button>\n            </li>")})).join("");g.insertAdjacentHTML("beforeend",t)})).catch((function(e){return console.log("Sorry, there are no images matching your search query. Please try again.")})),g.addEventListener("click",(function(e){if(e.target.classList.contains("favorite-filter-btn")){var t=(r=e.target,a=r.closest(".favorite-filter-item").dataset.category,JSON.parse(localStorage.getItem(l)).map((function(e){return e.category===a})));(0,o.createCardTemplate)(t,v)}var r,a})),a("OtYKr"),a("dEcaA"),a("fz8By"),a("QPNXd"),a("lubkt"),a("b7ONl"),a("bfaTO")}();
//# sourceMappingURL=favorites.b48ce553.js.map
