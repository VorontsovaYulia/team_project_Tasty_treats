{"mappings":"gfAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,0BAKME,EAAmBC,SAASC,cAAc,yBAC1CC,EAAwBF,SAASC,cAAc,2BAKrD,EAAAH,EAAAK,oBACGC,MAAK,SAAAC,GACJ,GAAoB,IAAhBA,EAAKC,OACP,MAAM,IAAIC,MAEZ,IAAMC,EAASH,EACZI,KACC,SAAAC,G,IAAGC,EAAID,EAAJC,K,MACD,mDAEIC,OAF+CD,EAAK,qFAE/CC,OAALD,EAAK,8C,IAIZE,KAAK,IAERd,EAAiBe,mBAAmB,YAAaN,E,IAElDO,OAAM,SAAAC,G,OACLC,QAAQC,IACN,2E,IAKNnB,EAAiBoB,iBAAiB,SAGlC,SAAiBC,GACf,GAAIA,EAAIC,OAAOC,UAAUC,SAAS,uBAAwB,CACxD,IAAMC,GAKmBC,EALeL,EAAIC,OAMxCK,EAAiBD,EAAKE,QAAQ,yBAAyBC,QAAQC,SAEnEC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,eACC1B,KACjC,SAAAC,G,OAAWA,EAARmB,WAA4BH,C,MAT/B,EAAAU,EAAAC,oBAAmBb,EAAatB,E,CAIpC,IAA6BuB,EACrBC,C","sources":["src/favourites.js","src/js/favorites/favorite_filter.js"],"sourcesContent":["import './js/hero';\nimport './js/slick.min';\n\nimport './js/favorites/favorite_filter';\nimport './js/favorites/favorite_recipes';\n\nimport './js/modals/mobile_menu';\nimport './js/modals/order_now';\nimport './js/modals/rating';\nimport './js/modals/recipe';\nimport './js/modals/scroll-up';\n\nimport './js/api';\nimport './js/templates';\n","import { getAllCategories } from '../api';\nimport { createCardTemplate } from '../card_template';\nimport { KEY_FAVORITE } from './favorite_recipes';\n\n\nconst favoriteFilterEl = document.querySelector('.favorite-filter-list');\nconst favoriteRecipesListEl = document.querySelector('.favorite-recipes-list');\n\n// const favoriteArrFromLocalStorage =\n//   JSON.parse(localStorage.getItem(KEY_FAVORITE)) ?? [];\n\ngetAllCategories()\n  .then(data => {\n    if (data.length === 0) {\n      throw new Error();\n    }\n    const markup = data\n      .map(\n        ({ name }) =>\n          `<li class=\"favorite-filter-item\" data-category=\"${name}\">\n             <button type=\"button\" class=\"favorite-filter-btn\">\n            ${name}\n             </button>\n            </li>`\n      )\n      .join('');\n\n    favoriteFilterEl.insertAdjacentHTML('beforeend', markup);\n  })\n  .catch(error =>\n    console.log(\n      'Sorry, there are no images matching your search query. Please try again.'\n    )\n  );\n\n\nfavoriteFilterEl.addEventListener('click', onClick);\n\n\nfunction onClick(evt) {\n  if (evt.target.classList.contains('favorite-filter-btn')) {\n    const findProduct = findProductByFilter(evt.target);\n    createCardTemplate(findProduct, favoriteRecipesListEl);\n  }\n}\n\nfunction findProductByFilter(elem) {\n  const searchCategory = elem.closest('.favorite-filter-item').dataset.category;\n  const favoriteArrFromLocalStorage =\n    JSON.parse(localStorage.getItem(KEY_FAVORITE));\n  return favoriteArrFromLocalStorage.map(\n    ({ category }) => category === searchCategory\n  );\n}\n"],"names":["parcelRequire","$b7ONl","$4509e8d12349f6b7$var$favoriteFilterEl","document","querySelector","$4509e8d12349f6b7$var$favoriteRecipesListEl","getAllCategories","then","data","length","Error","markup","map","param","name","concat","join","insertAdjacentHTML","catch","error","console","log","addEventListener","evt","target","classList","contains","findProduct","elem","searchCategory","closest","dataset","category","JSON","parse","localStorage","getItem","$jeC6k","KEY_FAVORITE","$boQj9","createCardTemplate"],"version":3,"file":"favorites.9802ec8b.js.map"}