{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,0BAKA,MAAME,EAAmBC,SAASC,cAAc,yBAC1CC,EAAwBF,SAASC,cAAc,2BAKrD,EAAAH,EAAAK,oBACGC,MAAKC,IACJ,GAAoB,IAAhBA,EAAKC,OACP,MAAM,IAAIC,MAEZ,MAAMC,EAASH,EACZI,KACC,EAACC,KAAEA,KACD,mDAAmDA,qFAE/CA,iDAIPC,KAAK,IAERZ,EAAiBa,mBAAmB,YAAaJ,EAAO,IAEzDK,OAAMC,GACLC,QAAQC,IACN,8EAKNjB,EAAiBkB,iBAAiB,SAGlC,SAAiBC,GACf,GAAIA,EAAIC,OAAOC,UAAUC,SAAS,uBAAwB,CACxD,MAAMC,EAKV,SAA6BC,GAC3B,MAAMC,EAAiBD,EAAKE,QAAQ,yBAAyBC,QAAQC,SAGrE,OADEC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,eACCxB,KACjC,EAACkB,SAAEA,KAAeA,IAAaH,G,CAVXU,CAAoBhB,EAAIC,SAC5C,EAAAgB,EAAAC,oBAAmBd,EAAapB,E","sources":["src/favourites.js","src/js/favorites/favorite_filter.js"],"sourcesContent":["import './js/hero';\nimport './js/slick.min';\n\nimport './js/favorites/favorite_filter';\nimport './js/favorites/favorite_recipes';\n\nimport './js/modals/mobile_menu';\nimport './js/modals/order_now';\nimport './js/modals/rating';\nimport './js/modals/recipe';\nimport './js/modals/scroll-up';\n\nimport './js/api';\nimport './js/templates';\n","import { getAllCategories } from '../api';\nimport { createCardTemplate } from '../card_template';\nimport { KEY_FAVORITE } from './favorite_recipes';\n\n\nconst favoriteFilterEl = document.querySelector('.favorite-filter-list');\nconst favoriteRecipesListEl = document.querySelector('.favorite-recipes-list');\n\n// const favoriteArrFromLocalStorage =\n//   JSON.parse(localStorage.getItem(KEY_FAVORITE)) ?? [];\n\ngetAllCategories()\n  .then(data => {\n    if (data.length === 0) {\n      throw new Error();\n    }\n    const markup = data\n      .map(\n        ({ name }) =>\n          `<li class=\"favorite-filter-item\" data-category=\"${name}\">\n             <button type=\"button\" class=\"favorite-filter-btn\">\n            ${name}\n             </button>\n            </li>`\n      )\n      .join('');\n\n    favoriteFilterEl.insertAdjacentHTML('beforeend', markup);\n  })\n  .catch(error =>\n    console.log(\n      'Sorry, there are no images matching your search query. Please try again.'\n    )\n  );\n\n\nfavoriteFilterEl.addEventListener('click', onClick);\n\n\nfunction onClick(evt) {\n  if (evt.target.classList.contains('favorite-filter-btn')) {\n    const findProduct = findProductByFilter(evt.target);\n    createCardTemplate(findProduct, favoriteRecipesListEl);\n  }\n}\n\nfunction findProductByFilter(elem) {\n  const searchCategory = elem.closest('.favorite-filter-item').dataset.category;\n  const favoriteArrFromLocalStorage =\n    JSON.parse(localStorage.getItem(KEY_FAVORITE));\n  return favoriteArrFromLocalStorage.map(\n    ({ category }) => category === searchCategory\n  );\n}\n"],"names":["parcelRequire","$7rYDH","$503b04fe8c6cf9d4$var$favoriteFilterEl","document","querySelector","$503b04fe8c6cf9d4$var$favoriteRecipesListEl","getAllCategories","then","data","length","Error","markup","map","name","join","insertAdjacentHTML","catch","error","console","log","addEventListener","evt","target","classList","contains","findProduct","elem","searchCategory","closest","dataset","category","JSON","parse","localStorage","getItem","$4DKoY","KEY_FAVORITE","$503b04fe8c6cf9d4$var$findProductByFilter","$c5nH8","createCardTemplate"],"version":3,"file":"favorites.e65fddaf.js.map"}